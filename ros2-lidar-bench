# ROS2 LiDAR Benchmark log rotation configuration
# Target: /var/log/ros2-lidar-bench/*.log and subdirectories
# Rotates daily, keeps 30 days, compresses old logs

/var/log/ros2-lidar-bench/*.log /var/log/ros2-lidar-bench/**/*.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    dateext
    dateformat -%Y%m%d
    su edge_app adm
    create 0640 edge_app adm
    sharedscripts
    copytruncate
}

# How to test:
# sudo logrotate -d /etc/logrotate.d/ros2-lidar-bench   # dry run
# sudo logrotate -f /etc/logrotate.d/ros2-lidar-bench   # force execution (for initial check)
